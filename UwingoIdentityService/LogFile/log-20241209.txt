2024-12-09 11:00:37.113 +03:00 [INF] User profile is available. Using 'C:\Users\kadir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 11:00:38.674 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2024-12-09 11:00:38.787 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-12-09 11:00:39.010 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:00:39.052 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:00:39.104 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:00:39.144 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:00:39.194 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:00:39.241 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:00:39.548 +03:00 [INF] Executed DbCommand (307ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:00:39.853 +03:00 [INF] Executed DbCommand (304ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:00:40.040 +03:00 [INF] User profile is available. Using 'C:\Users\kadir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 11:00:40.227 +03:00 [INF] Now listening on: http://0.0.0.0:5137
2024-12-09 11:00:40.228 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-09 11:00:40.228 +03:00 [INF] Hosting environment: Development
2024-12-09 11:00:40.228 +03:00 [INF] Content root path: C:\Users\kadir\source\repos\UwingoIdentityService\UwingoIdentityService
2024-12-09 11:00:42.156 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api - -
2024-12-09 11:00:42.296 +03:00 [WRN] Failed to determine the https port for redirect.
2024-12-09 11:00:42.394 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api - - - 404 0 - 241.7216ms
2024-12-09 11:00:48.891 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - -
2024-12-09 11:00:48.896 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:00:48.912 +03:00 [INF] Route matched with {action = "GetAllCompaniesForLogin", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCompaniesForLogin() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 11:00:49.111 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 11:00:49.114 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 11:00:49.114 +03:00 [INF] Tüm şirketler başarıyla getirildi.
2024-12-09 11:00:49.121 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.CompanyDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:00:49.164 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService) in 247.0713ms
2024-12-09 11:00:49.165 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:00:49.170 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - - - 200 - application/json;+charset=utf-8 278.6714ms
2024-12-09 11:00:49.172 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - -
2024-12-09 11:00:49.175 +03:00 [INF] Executing endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:00:49.179 +03:00 [INF] Route matched with {action = "GetAllApplicationsForLogin", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllApplicationsForLogin() on controller UwingoIdentityService.Controllers.ApplicationController (UwingoIdentityService).
2024-12-09 11:00:49.232 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Applications] AS [a]
2024-12-09 11:00:49.233 +03:00 [ERR] Tüm uygulamalar başarıyla getirildi.
2024-12-09 11:00:49.234 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:00:49.235 +03:00 [INF] Executed action UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService) in 56.284ms
2024-12-09 11:00:49.235 +03:00 [INF] Executed endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:00:49.236 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - - - 200 - application/json;+charset=utf-8 63.8066ms
2024-12-09 11:17:01.116 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - -
2024-12-09 11:17:01.134 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:17:01.134 +03:00 [INF] Route matched with {action = "GetAllCompaniesForLogin", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCompaniesForLogin() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 11:17:01.305 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 11:17:01.305 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 11:17:01.305 +03:00 [INF] Tüm şirketler başarıyla getirildi.
2024-12-09 11:17:01.305 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.CompanyDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:17:01.306 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService) in 171.6581ms
2024-12-09 11:17:01.306 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:17:01.306 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - - - 200 - application/json;+charset=utf-8 190.4747ms
2024-12-09 11:17:01.307 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - -
2024-12-09 11:17:01.310 +03:00 [INF] Executing endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:17:01.310 +03:00 [INF] Route matched with {action = "GetAllApplicationsForLogin", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllApplicationsForLogin() on controller UwingoIdentityService.Controllers.ApplicationController (UwingoIdentityService).
2024-12-09 11:17:01.367 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Applications] AS [a]
2024-12-09 11:17:01.367 +03:00 [ERR] Tüm uygulamalar başarıyla getirildi.
2024-12-09 11:17:01.367 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:17:01.368 +03:00 [INF] Executed action UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService) in 57.7805ms
2024-12-09 11:17:01.368 +03:00 [INF] Executed endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:17:01.368 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - - - 200 - application/json;+charset=utf-8 60.6440ms
2024-12-09 11:17:03.279 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - -
2024-12-09 11:17:03.279 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 11:17:03.287 +03:00 [INF] Route matched with {action = "GetApplicationsByCompanyId", controller = "CompanyApplication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetApplicationsByCompanyId(System.Guid) on controller Presentation.Controllers.CompanyApplicationController (UwingoIdentityService).
2024-12-09 11:17:03.343 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-12-09 11:17:03.344 +03:00 [ERR] Şirketin uygulamaları başarıyla getirildi.
2024-12-09 11:17:03.376 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:17:03.406 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:17:03.433 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:17:03.460 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:17:03.461 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:17:03.461 +03:00 [INF] Executed action Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService) in 174.0625ms
2024-12-09 11:17:03.461 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 11:17:03.461 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - - - 200 - application/json;+charset=utf-8 182.4797ms
2024-12-09 11:17:13.546 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 -
2024-12-09 11:17:13.546 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 11:17:13.550 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entity.ModelsDto.UserLoginDto) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 11:17:13.610 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__applicationId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0 AND [c].[ApplicationId] = @__applicationId_1
2024-12-09 11:17:13.682 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 11:17:13.764 +03:00 [INF] Kullanıcı başarıyla doğrulandı ve veritabanı bağlantısı sağlandı.
2024-12-09 11:17:13.800 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 11:17:13.828 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 11:17:14.105 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 11:17:14.133 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:17:14.201 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 11:17:14.241 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-09 11:17:14.376 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@p19='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CompanyApplicationId] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [LastName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2024-12-09 11:17:14.487 +03:00 [ERR] Token başarıyla oluşturuldu.
2024-12-09 11:17:14.488 +03:00 [INF] Kullanıcı başarıyla giriş yaptı.
2024-12-09 11:17:14.490 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entity.ModelsDto.TokenDto'.
2024-12-09 11:17:14.491 +03:00 [INF] Executed action API.Controllers.AuthenticationController.Login (UwingoIdentityService) in 941.7955ms
2024-12-09 11:17:14.492 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 11:17:14.493 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 946.8635ms
2024-12-09 11:18:38.843 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Authentication/GetClaims/adminIdentity - -
2024-12-09 11:18:38.848 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService)'
2024-12-09 11:18:38.851 +03:00 [INF] Route matched with {action = "GetClaims", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClaims(System.String) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 11:18:38.885 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__userName_0
2024-12-09 11:18:38.912 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 11:18:38.938 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 11:18:39.089 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 11:18:39.116 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:18:39.143 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Security.Claims.Claim, System.Security.Claims, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2024-12-09 11:18:39.146 +03:00 [INF] Executed action API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService) in 294.7286ms
2024-12-09 11:18:39.146 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService)'
2024-12-09 11:18:39.147 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Authentication/GetClaims/adminIdentity - - - 200 - application/json;+charset=utf-8 303.6208ms
2024-12-09 11:19:24.549 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - -
2024-12-09 11:19:24.551 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:19:24.551 +03:00 [INF] Route matched with {action = "GetAllCompaniesForLogin", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCompaniesForLogin() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 11:19:24.578 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 11:19:24.578 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 11:19:24.578 +03:00 [INF] Tüm şirketler başarıyla getirildi.
2024-12-09 11:19:24.578 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.CompanyDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:19:24.579 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService) in 27.5467ms
2024-12-09 11:19:24.579 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:19:24.579 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - - - 200 - application/json;+charset=utf-8 30.8124ms
2024-12-09 11:19:24.579 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - -
2024-12-09 11:19:24.580 +03:00 [INF] Executing endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:19:24.580 +03:00 [INF] Route matched with {action = "GetAllApplicationsForLogin", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllApplicationsForLogin() on controller UwingoIdentityService.Controllers.ApplicationController (UwingoIdentityService).
2024-12-09 11:19:24.611 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Applications] AS [a]
2024-12-09 11:19:24.612 +03:00 [ERR] Tüm uygulamalar başarıyla getirildi.
2024-12-09 11:19:24.612 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:19:24.612 +03:00 [INF] Executed action UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService) in 31.6481ms
2024-12-09 11:19:24.612 +03:00 [INF] Executed endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:19:24.612 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - - - 200 - application/json;+charset=utf-8 32.7390ms
2024-12-09 11:19:33.591 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - -
2024-12-09 11:19:33.591 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:19:33.591 +03:00 [INF] Route matched with {action = "GetAllCompaniesForLogin", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCompaniesForLogin() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 11:19:33.627 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 11:19:33.627 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 11:19:33.627 +03:00 [INF] Tüm şirketler başarıyla getirildi.
2024-12-09 11:19:33.627 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.CompanyDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:19:33.628 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService) in 36.2208ms
2024-12-09 11:19:33.628 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:19:33.628 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - - - 200 - application/json;+charset=utf-8 36.9623ms
2024-12-09 11:19:33.628 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - -
2024-12-09 11:19:33.628 +03:00 [INF] Executing endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:19:33.628 +03:00 [INF] Route matched with {action = "GetAllApplicationsForLogin", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllApplicationsForLogin() on controller UwingoIdentityService.Controllers.ApplicationController (UwingoIdentityService).
2024-12-09 11:19:33.655 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Applications] AS [a]
2024-12-09 11:19:33.655 +03:00 [ERR] Tüm uygulamalar başarıyla getirildi.
2024-12-09 11:19:33.656 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:19:33.656 +03:00 [INF] Executed action UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService) in 27.1522ms
2024-12-09 11:19:33.656 +03:00 [INF] Executed endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:19:33.656 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - - - 200 - application/json;+charset=utf-8 27.6774ms
2024-12-09 11:20:15.457 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - -
2024-12-09 11:20:15.458 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:20:15.461 +03:00 [INF] Route matched with {action = "GetAllCompaniesForLogin", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCompaniesForLogin() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 11:20:15.489 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 11:20:15.489 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 11:20:15.489 +03:00 [INF] Tüm şirketler başarıyla getirildi.
2024-12-09 11:20:15.489 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.CompanyDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:20:15.489 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService) in 28.1992ms
2024-12-09 11:20:15.489 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:20:15.489 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - - - 200 - application/json;+charset=utf-8 32.4205ms
2024-12-09 11:20:15.490 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - -
2024-12-09 11:20:15.490 +03:00 [INF] Executing endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:20:15.490 +03:00 [INF] Route matched with {action = "GetAllApplicationsForLogin", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllApplicationsForLogin() on controller UwingoIdentityService.Controllers.ApplicationController (UwingoIdentityService).
2024-12-09 11:20:15.517 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Applications] AS [a]
2024-12-09 11:20:15.517 +03:00 [ERR] Tüm uygulamalar başarıyla getirildi.
2024-12-09 11:20:15.517 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:20:15.518 +03:00 [INF] Executed action UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService) in 27.6469ms
2024-12-09 11:20:15.518 +03:00 [INF] Executed endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:20:15.518 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - - - 200 - application/json;+charset=utf-8 28.2571ms
2024-12-09 11:29:45.224 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - -
2024-12-09 11:29:45.248 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:29:45.249 +03:00 [INF] Route matched with {action = "GetAllCompaniesForLogin", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCompaniesForLogin() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 11:29:45.944 +03:00 [INF] Executed DbCommand (352ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 11:29:45.944 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 11:29:45.944 +03:00 [INF] Tüm şirketler başarıyla getirildi.
2024-12-09 11:29:45.944 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.CompanyDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:29:45.945 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService) in 695.7149ms
2024-12-09 11:29:45.945 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:29:45.945 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - - - 200 - application/json;+charset=utf-8 721.3880ms
2024-12-09 11:29:45.946 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - -
2024-12-09 11:29:45.947 +03:00 [INF] Executing endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:29:45.947 +03:00 [INF] Route matched with {action = "GetAllApplicationsForLogin", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllApplicationsForLogin() on controller UwingoIdentityService.Controllers.ApplicationController (UwingoIdentityService).
2024-12-09 11:29:45.975 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Applications] AS [a]
2024-12-09 11:29:45.975 +03:00 [ERR] Tüm uygulamalar başarıyla getirildi.
2024-12-09 11:29:45.975 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:29:45.975 +03:00 [INF] Executed action UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService) in 28.3834ms
2024-12-09 11:29:45.975 +03:00 [INF] Executed endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:29:45.976 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - - - 200 - application/json;+charset=utf-8 29.2188ms
2024-12-09 11:30:24.450 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - -
2024-12-09 11:30:24.456 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 11:30:24.456 +03:00 [INF] Route matched with {action = "GetApplicationsByCompanyId", controller = "CompanyApplication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetApplicationsByCompanyId(System.Guid) on controller Presentation.Controllers.CompanyApplicationController (UwingoIdentityService).
2024-12-09 11:30:24.483 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-12-09 11:30:24.484 +03:00 [ERR] Şirketin uygulamaları başarıyla getirildi.
2024-12-09 11:30:24.510 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:30:24.537 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:30:24.845 +03:00 [INF] Executed DbCommand (308ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:30:24.871 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:30:24.871 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:30:24.871 +03:00 [INF] Executed action Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService) in 414.8969ms
2024-12-09 11:30:24.871 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 11:30:24.871 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - - - 200 - application/json;+charset=utf-8 421.6614ms
2024-12-09 11:30:31.301 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 -
2024-12-09 11:30:31.348 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 11:30:31.349 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entity.ModelsDto.UserLoginDto) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 11:30:31.377 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__applicationId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0 AND [c].[ApplicationId] = @__applicationId_1
2024-12-09 11:30:31.408 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 11:30:31.476 +03:00 [INF] Kullanıcı başarıyla doğrulandı ve veritabanı bağlantısı sağlandı.
2024-12-09 11:30:31.778 +03:00 [INF] Executed DbCommand (301ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 11:30:31.803 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 11:30:31.926 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 11:30:31.953 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:30:32.006 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 11:30:32.033 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-09 11:30:32.063 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@p19='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CompanyApplicationId] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [LastName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2024-12-09 11:30:32.064 +03:00 [ERR] Token başarıyla oluşturuldu.
2024-12-09 11:30:32.064 +03:00 [INF] Kullanıcı başarıyla giriş yaptı.
2024-12-09 11:30:32.064 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entity.ModelsDto.TokenDto'.
2024-12-09 11:30:32.064 +03:00 [INF] Executed action API.Controllers.AuthenticationController.Login (UwingoIdentityService) in 715.3551ms
2024-12-09 11:30:32.064 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 11:30:32.064 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 762.6580ms
2024-12-09 11:30:36.879 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Authentication/GetClaims/adminIdentity - -
2024-12-09 11:30:36.880 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService)'
2024-12-09 11:30:36.880 +03:00 [INF] Route matched with {action = "GetClaims", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClaims(System.String) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 11:30:36.908 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__userName_0
2024-12-09 11:30:36.935 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 11:30:36.962 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 11:30:37.073 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 11:30:37.100 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:30:37.126 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Security.Claims.Claim, System.Security.Claims, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2024-12-09 11:30:37.126 +03:00 [INF] Executed action API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService) in 245.9845ms
2024-12-09 11:30:37.126 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService)'
2024-12-09 11:30:37.127 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Authentication/GetClaims/adminIdentity - - - 200 - application/json;+charset=utf-8 247.4744ms
2024-12-09 11:31:21.971 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - -
2024-12-09 11:31:21.972 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:31:21.972 +03:00 [INF] Route matched with {action = "GetAllCompaniesForLogin", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCompaniesForLogin() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 11:31:22.000 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 11:31:22.001 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 11:31:22.001 +03:00 [INF] Tüm şirketler başarıyla getirildi.
2024-12-09 11:31:22.001 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.CompanyDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:31:22.001 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService) in 29.0296ms
2024-12-09 11:31:22.001 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:31:22.001 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - - - 200 - application/json;+charset=utf-8 30.0870ms
2024-12-09 11:31:22.002 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - -
2024-12-09 11:31:22.002 +03:00 [INF] Executing endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:31:22.002 +03:00 [INF] Route matched with {action = "GetAllApplicationsForLogin", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllApplicationsForLogin() on controller UwingoIdentityService.Controllers.ApplicationController (UwingoIdentityService).
2024-12-09 11:31:22.030 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Applications] AS [a]
2024-12-09 11:31:22.030 +03:00 [ERR] Tüm uygulamalar başarıyla getirildi.
2024-12-09 11:31:22.030 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:31:22.030 +03:00 [INF] Executed action UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService) in 28.2908ms
2024-12-09 11:31:22.031 +03:00 [INF] Executed endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:31:22.031 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - - - 200 - application/json;+charset=utf-8 28.9317ms
2024-12-09 11:32:04.497 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - -
2024-12-09 11:32:04.497 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:32:04.497 +03:00 [INF] Route matched with {action = "GetAllCompaniesForLogin", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCompaniesForLogin() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 11:32:04.551 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 11:32:04.552 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 11:32:04.552 +03:00 [INF] Tüm şirketler başarıyla getirildi.
2024-12-09 11:32:04.552 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.CompanyDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:32:04.552 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService) in 52.9044ms
2024-12-09 11:32:04.552 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:32:04.552 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - - - 200 - application/json;+charset=utf-8 55.3745ms
2024-12-09 11:32:04.554 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - -
2024-12-09 11:32:04.554 +03:00 [INF] Executing endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:32:04.554 +03:00 [INF] Route matched with {action = "GetAllApplicationsForLogin", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllApplicationsForLogin() on controller UwingoIdentityService.Controllers.ApplicationController (UwingoIdentityService).
2024-12-09 11:32:04.581 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Applications] AS [a]
2024-12-09 11:32:04.581 +03:00 [ERR] Tüm uygulamalar başarıyla getirildi.
2024-12-09 11:32:04.581 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:32:04.582 +03:00 [INF] Executed action UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService) in 27.6372ms
2024-12-09 11:32:04.582 +03:00 [INF] Executed endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:32:04.582 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - - - 200 - application/json;+charset=utf-8 28.1048ms
2024-12-09 11:32:07.175 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - -
2024-12-09 11:32:07.176 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 11:32:07.176 +03:00 [INF] Route matched with {action = "GetApplicationsByCompanyId", controller = "CompanyApplication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetApplicationsByCompanyId(System.Guid) on controller Presentation.Controllers.CompanyApplicationController (UwingoIdentityService).
2024-12-09 11:32:07.459 +03:00 [INF] Executed DbCommand (283ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-12-09 11:32:07.460 +03:00 [ERR] Şirketin uygulamaları başarıyla getirildi.
2024-12-09 11:32:07.732 +03:00 [INF] Executed DbCommand (272ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:32:07.757 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:32:07.784 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:32:07.812 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:32:07.812 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:32:07.812 +03:00 [INF] Executed action Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService) in 636.237ms
2024-12-09 11:32:07.812 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 11:32:07.812 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - - - 200 - application/json;+charset=utf-8 636.8429ms
2024-12-09 11:32:13.841 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 -
2024-12-09 11:32:13.841 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 11:32:13.842 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entity.ModelsDto.UserLoginDto) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 11:32:13.868 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__applicationId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0 AND [c].[ApplicationId] = @__applicationId_1
2024-12-09 11:32:13.897 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 11:32:13.964 +03:00 [INF] Kullanıcı başarıyla doğrulandı ve veritabanı bağlantısı sağlandı.
2024-12-09 11:32:13.990 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 11:32:14.016 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 11:32:14.618 +03:00 [INF] Executed DbCommand (269ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 11:32:14.647 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:32:14.699 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 11:32:14.726 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-09 11:32:14.754 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p19='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CompanyApplicationId] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [LastName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2024-12-09 11:32:14.754 +03:00 [ERR] Token başarıyla oluşturuldu.
2024-12-09 11:32:14.754 +03:00 [INF] Kullanıcı başarıyla giriş yaptı.
2024-12-09 11:32:14.754 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entity.ModelsDto.TokenDto'.
2024-12-09 11:32:14.755 +03:00 [INF] Executed action API.Controllers.AuthenticationController.Login (UwingoIdentityService) in 912.9535ms
2024-12-09 11:32:14.755 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 11:32:14.755 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 913.9134ms
2024-12-09 11:32:20.707 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - -
2024-12-09 11:32:20.708 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:32:20.708 +03:00 [INF] Route matched with {action = "GetAllCompaniesForLogin", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCompaniesForLogin() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 11:32:20.735 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 11:32:20.735 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 11:32:20.735 +03:00 [INF] Tüm şirketler başarıyla getirildi.
2024-12-09 11:32:20.735 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.CompanyDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:32:20.735 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService) in 27.5716ms
2024-12-09 11:32:20.735 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:32:20.736 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - - - 200 - application/json;+charset=utf-8 28.2278ms
2024-12-09 11:32:20.736 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - -
2024-12-09 11:32:20.736 +03:00 [INF] Executing endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:32:20.736 +03:00 [INF] Route matched with {action = "GetAllApplicationsForLogin", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllApplicationsForLogin() on controller UwingoIdentityService.Controllers.ApplicationController (UwingoIdentityService).
2024-12-09 11:32:20.763 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Applications] AS [a]
2024-12-09 11:32:20.763 +03:00 [ERR] Tüm uygulamalar başarıyla getirildi.
2024-12-09 11:32:20.764 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:32:20.764 +03:00 [INF] Executed action UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService) in 27.5011ms
2024-12-09 11:32:20.764 +03:00 [INF] Executed endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:32:20.764 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - - - 200 - application/json;+charset=utf-8 27.9224ms
2024-12-09 11:35:39.356 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - -
2024-12-09 11:35:39.356 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:35:39.358 +03:00 [INF] Route matched with {action = "GetAllCompaniesForLogin", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCompaniesForLogin() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 11:35:39.520 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 11:35:39.520 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 11:35:39.520 +03:00 [INF] Tüm şirketler başarıyla getirildi.
2024-12-09 11:35:39.520 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.CompanyDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:35:39.521 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService) in 162.212ms
2024-12-09 11:35:39.521 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:35:39.521 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - - - 200 - application/json;+charset=utf-8 164.5499ms
2024-12-09 11:35:39.522 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - -
2024-12-09 11:35:39.522 +03:00 [INF] Executing endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:35:39.523 +03:00 [INF] Route matched with {action = "GetAllApplicationsForLogin", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllApplicationsForLogin() on controller UwingoIdentityService.Controllers.ApplicationController (UwingoIdentityService).
2024-12-09 11:35:39.550 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Applications] AS [a]
2024-12-09 11:35:39.550 +03:00 [ERR] Tüm uygulamalar başarıyla getirildi.
2024-12-09 11:35:39.550 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:35:39.551 +03:00 [INF] Executed action UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService) in 27.9238ms
2024-12-09 11:35:39.551 +03:00 [INF] Executed endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:35:39.551 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - - - 200 - application/json;+charset=utf-8 28.3793ms
2024-12-09 11:35:42.264 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - -
2024-12-09 11:35:42.265 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 11:35:42.265 +03:00 [INF] Route matched with {action = "GetApplicationsByCompanyId", controller = "CompanyApplication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetApplicationsByCompanyId(System.Guid) on controller Presentation.Controllers.CompanyApplicationController (UwingoIdentityService).
2024-12-09 11:35:42.292 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-12-09 11:35:42.292 +03:00 [ERR] Şirketin uygulamaları başarıyla getirildi.
2024-12-09 11:35:42.318 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:35:42.344 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:35:42.369 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:35:42.395 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:35:42.395 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:35:42.395 +03:00 [INF] Executed action Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService) in 130.4488ms
2024-12-09 11:35:42.395 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 11:35:42.395 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - - - 200 - application/json;+charset=utf-8 131.0725ms
2024-12-09 11:35:46.192 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 -
2024-12-09 11:35:46.192 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 11:35:46.192 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entity.ModelsDto.UserLoginDto) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 11:35:46.220 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__applicationId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0 AND [c].[ApplicationId] = @__applicationId_1
2024-12-09 11:35:46.489 +03:00 [INF] Executed DbCommand (267ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 11:35:46.557 +03:00 [INF] Kullanıcı başarıyla doğrulandı ve veritabanı bağlantısı sağlandı.
2024-12-09 11:35:46.583 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 11:35:46.610 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 11:35:46.722 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 11:35:46.775 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:35:46.828 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 11:35:46.855 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-09 11:35:46.883 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@p19='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CompanyApplicationId] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [LastName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2024-12-09 11:35:46.883 +03:00 [ERR] Token başarıyla oluşturuldu.
2024-12-09 11:35:46.883 +03:00 [INF] Kullanıcı başarıyla giriş yaptı.
2024-12-09 11:35:46.883 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entity.ModelsDto.TokenDto'.
2024-12-09 11:35:46.883 +03:00 [INF] Executed action API.Controllers.AuthenticationController.Login (UwingoIdentityService) in 690.8544ms
2024-12-09 11:35:46.883 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 11:35:46.884 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 691.7445ms
2024-12-09 11:35:46.900 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Authentication/GetClaims/adminIdentity - -
2024-12-09 11:35:46.900 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService)'
2024-12-09 11:35:46.900 +03:00 [INF] Route matched with {action = "GetClaims", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClaims(System.String) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 11:35:46.927 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__userName_0
2024-12-09 11:35:46.953 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 11:35:46.980 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 11:35:47.090 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 11:35:47.117 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:35:47.144 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Security.Claims.Claim, System.Security.Claims, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2024-12-09 11:35:47.145 +03:00 [INF] Executed action API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService) in 244.2112ms
2024-12-09 11:35:47.145 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService)'
2024-12-09 11:35:47.145 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Authentication/GetClaims/adminIdentity - - - 200 - application/json;+charset=utf-8 245.0803ms
2024-12-09 11:35:53.194 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - -
2024-12-09 11:35:53.194 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:35:53.194 +03:00 [INF] Route matched with {action = "GetAllCompaniesForLogin", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCompaniesForLogin() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 11:35:53.220 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 11:35:53.221 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 11:35:53.221 +03:00 [INF] Tüm şirketler başarıyla getirildi.
2024-12-09 11:35:53.221 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.CompanyDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:35:53.221 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService) in 26.4514ms
2024-12-09 11:35:53.221 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:35:53.221 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - - - 200 - application/json;+charset=utf-8 27.0190ms
2024-12-09 11:35:53.221 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - -
2024-12-09 11:35:53.222 +03:00 [INF] Executing endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:35:53.222 +03:00 [INF] Route matched with {action = "GetAllApplicationsForLogin", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllApplicationsForLogin() on controller UwingoIdentityService.Controllers.ApplicationController (UwingoIdentityService).
2024-12-09 11:35:53.248 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Applications] AS [a]
2024-12-09 11:35:53.249 +03:00 [ERR] Tüm uygulamalar başarıyla getirildi.
2024-12-09 11:35:53.249 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:35:53.249 +03:00 [INF] Executed action UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService) in 27.3104ms
2024-12-09 11:35:53.249 +03:00 [INF] Executed endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:35:53.249 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - - - 200 - application/json;+charset=utf-8 27.7562ms
2024-12-09 11:39:01.703 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetCompanyCount - -
2024-12-09 11:39:01.998 +03:00 [INF] Executed DbCommand (264ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2024-12-09 11:39:02.266 +03:00 [INF] Executed DbCommand (267ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-12-09 11:39:02.292 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:39:02.319 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:39:02.345 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:39:02.372 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:39:02.398 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:39:02.424 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:39:02.452 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:39:02.501 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:39:02.826 +03:00 [INF] Executed DbCommand (313ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] IS NULL
2024-12-09 11:39:03.003 +03:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE 0 = 1
2024-12-09 11:39:10.645 +03:00 [INF] User profile is available. Using 'C:\Users\kadir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 11:39:12.069 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2024-12-09 11:39:12.168 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-12-09 11:39:12.368 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:39:12.400 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:39:12.430 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:39:12.463 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:39:12.499 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:39:12.532 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:39:12.565 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:39:12.593 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:39:12.689 +03:00 [INF] User profile is available. Using 'C:\Users\kadir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 11:39:12.781 +03:00 [INF] Now listening on: http://0.0.0.0:5137
2024-12-09 11:39:12.782 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-09 11:39:12.782 +03:00 [INF] Hosting environment: Development
2024-12-09 11:39:12.782 +03:00 [INF] Content root path: C:\Users\kadir\source\repos\UwingoIdentityService\UwingoIdentityService
2024-12-09 11:39:14.310 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api - -
2024-12-09 11:39:14.416 +03:00 [WRN] Failed to determine the https port for redirect.
2024-12-09 11:39:14.481 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api - - - 404 0 - 172.9833ms
2024-12-09 11:39:59.416 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetCompanyCount - -
2024-12-09 11:39:59.533 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2024-12-09 11:39:59.645 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-12-09 11:39:59.758 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:39:59.825 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:39:59.859 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:39:59.913 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:39:59.948 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:39:59.986 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:40:00.028 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:40:00.078 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:40:00.258 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] IS NULL
2024-12-09 11:40:00.308 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE 0 = 1
2024-12-09 11:40:13.073 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Repositories.EFCore.RepositoryUserDbMatch.GetUsersCAIdByUserName(String userName, Boolean trackChanges) in C:\Users\kadir\source\repos\UwingoIdentityService\Repositories\EFCore\RepositoryUserDbMatch.cs:line 22
   at Services.EFCore.AuthenticationService.GetUserByUserName(String userName) in C:\Users\kadir\source\repos\UwingoIdentityService\Services\EFCore\AuthenticationService.cs:line 507
   at Services.EFCore.CustomAuthorizationHandler.HandleRequirementAsync(AuthorizationHandlerContext context, CustomRequirement requirement) in C:\Users\kadir\source\repos\UwingoIdentityService\Services\EFCore\CustomAuthorizationHandler.cs:line 30
   at Microsoft.AspNetCore.Authorization.AuthorizationHandler`1.HandleAsync(AuthorizationHandlerContext context)
   at Microsoft.AspNetCore.Authorization.DefaultAuthorizationService.AuthorizeAsync(ClaimsPrincipal user, Object resource, IEnumerable`1 requirements)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthorizeAsync(AuthorizationPolicy policy, AuthenticateResult authenticationResult, HttpContext context, Object resource)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-12-09 11:40:13.122 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetCompanyCount - - - 500 - text/plain;+charset=utf-8 13705.8833ms
2024-12-09 11:40:13.124 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetApplicationCount - -
2024-12-09 11:40:13.166 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2024-12-09 11:40:13.192 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-12-09 11:40:13.219 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:40:13.246 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:40:13.273 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:40:13.301 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:40:13.327 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:40:13.354 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:40:13.382 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:40:13.408 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:40:13.439 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] IS NULL
2024-12-09 11:40:13.465 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE 0 = 1
2024-12-09 11:40:14.691 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Repositories.EFCore.RepositoryUserDbMatch.GetUsersCAIdByUserName(String userName, Boolean trackChanges) in C:\Users\kadir\source\repos\UwingoIdentityService\Repositories\EFCore\RepositoryUserDbMatch.cs:line 22
   at Services.EFCore.AuthenticationService.GetUserByUserName(String userName) in C:\Users\kadir\source\repos\UwingoIdentityService\Services\EFCore\AuthenticationService.cs:line 507
   at Services.EFCore.CustomAuthorizationHandler.HandleRequirementAsync(AuthorizationHandlerContext context, CustomRequirement requirement) in C:\Users\kadir\source\repos\UwingoIdentityService\Services\EFCore\CustomAuthorizationHandler.cs:line 30
   at Microsoft.AspNetCore.Authorization.AuthorizationHandler`1.HandleAsync(AuthorizationHandlerContext context)
   at Microsoft.AspNetCore.Authorization.DefaultAuthorizationService.AuthorizeAsync(ClaimsPrincipal user, Object resource, IEnumerable`1 requirements)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthorizeAsync(AuthorizationPolicy policy, AuthenticateResult authenticationResult, HttpContext context, Object resource)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-12-09 11:40:14.693 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetApplicationCount - - - 500 - text/plain;+charset=utf-8 1568.6134ms
2024-12-09 11:40:14.694 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetCompanyApplicationCount - -
2024-12-09 11:40:14.729 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2024-12-09 11:40:14.756 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-12-09 11:40:14.783 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:40:14.810 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:40:14.837 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:40:14.864 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:40:14.890 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:40:14.918 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:40:14.944 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:40:14.971 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:40:15.004 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] IS NULL
2024-12-09 11:40:15.030 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE 0 = 1
2024-12-09 11:40:17.487 +03:00 [INF] User profile is available. Using 'C:\Users\kadir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 11:40:19.157 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2024-12-09 11:40:19.254 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-12-09 11:40:19.448 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:40:19.480 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:40:19.507 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:40:19.536 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:40:19.574 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:40:19.602 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:40:19.630 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:40:19.656 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:40:19.766 +03:00 [INF] User profile is available. Using 'C:\Users\kadir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 11:40:19.871 +03:00 [INF] Now listening on: http://0.0.0.0:5137
2024-12-09 11:40:19.872 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-09 11:40:19.872 +03:00 [INF] Hosting environment: Development
2024-12-09 11:40:19.872 +03:00 [INF] Content root path: C:\Users\kadir\source\repos\UwingoIdentityService\UwingoIdentityService
2024-12-09 11:40:21.398 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api - -
2024-12-09 11:40:21.484 +03:00 [WRN] Failed to determine the https port for redirect.
2024-12-09 11:40:21.561 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api - - - 404 0 - 165.9148ms
2024-12-09 11:57:45.646 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - -
2024-12-09 11:57:45.655 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:57:45.671 +03:00 [INF] Route matched with {action = "GetAllCompaniesForLogin", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCompaniesForLogin() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 11:57:46.268 +03:00 [INF] Executed DbCommand (301ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 11:57:46.271 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 11:57:46.271 +03:00 [INF] Tüm şirketler başarıyla getirildi.
2024-12-09 11:57:46.277 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.CompanyDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:57:46.313 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService) in 638.6199ms
2024-12-09 11:57:46.314 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 11:57:46.317 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - - - 200 - application/json;+charset=utf-8 670.8625ms
2024-12-09 11:57:46.319 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - -
2024-12-09 11:57:46.322 +03:00 [INF] Executing endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:57:46.325 +03:00 [INF] Route matched with {action = "GetAllApplicationsForLogin", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllApplicationsForLogin() on controller UwingoIdentityService.Controllers.ApplicationController (UwingoIdentityService).
2024-12-09 11:57:46.377 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Applications] AS [a]
2024-12-09 11:57:46.379 +03:00 [ERR] Tüm uygulamalar başarıyla getirildi.
2024-12-09 11:57:46.379 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:57:46.381 +03:00 [INF] Executed action UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService) in 55.7414ms
2024-12-09 11:57:46.381 +03:00 [INF] Executed endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 11:57:46.382 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - - - 200 - application/json;+charset=utf-8 62.4193ms
2024-12-09 11:58:28.753 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - -
2024-12-09 11:58:28.756 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 11:58:28.763 +03:00 [INF] Route matched with {action = "GetApplicationsByCompanyId", controller = "CompanyApplication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetApplicationsByCompanyId(System.Guid) on controller Presentation.Controllers.CompanyApplicationController (UwingoIdentityService).
2024-12-09 11:58:28.811 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-12-09 11:58:28.812 +03:00 [ERR] Şirketin uygulamaları başarıyla getirildi.
2024-12-09 11:58:28.843 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:58:28.872 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:58:28.899 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:58:28.925 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 11:58:28.926 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 11:58:28.926 +03:00 [INF] Executed action Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService) in 162.7525ms
2024-12-09 11:58:28.926 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 11:58:28.926 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - - - 200 - application/json;+charset=utf-8 172.8758ms
2024-12-09 11:58:32.529 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 -
2024-12-09 11:58:32.638 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9.12.2024 08:45:46', Current time (UTC): '9.12.2024 08:58:32'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-12-09 11:58:32.650 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9.12.2024 08:45:46', Current time (UTC): '9.12.2024 08:58:32'.
2024-12-09 11:58:32.650 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 11:58:32.653 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entity.ModelsDto.UserLoginDto) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 11:58:32.719 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__applicationId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0 AND [c].[ApplicationId] = @__applicationId_1
2024-12-09 11:58:33.025 +03:00 [INF] Executed DbCommand (273ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 11:58:33.104 +03:00 [INF] Kullanıcı başarıyla doğrulandı ve veritabanı bağlantısı sağlandı.
2024-12-09 11:58:33.138 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 11:58:33.169 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 11:58:33.410 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 11:58:33.437 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:58:33.503 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 11:58:33.542 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-09 11:58:34.033 +03:00 [INF] Executed DbCommand (393ms) [Parameters=[@p19='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CompanyApplicationId] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [LastName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2024-12-09 11:58:34.061 +03:00 [ERR] Token başarıyla oluşturuldu.
2024-12-09 11:58:34.062 +03:00 [INF] Kullanıcı başarıyla giriş yaptı.
2024-12-09 11:58:34.064 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entity.ModelsDto.TokenDto'.
2024-12-09 11:58:34.065 +03:00 [INF] Executed action API.Controllers.AuthenticationController.Login (UwingoIdentityService) in 1412.514ms
2024-12-09 11:58:34.066 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 11:58:34.067 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 1537.5951ms
2024-12-09 11:58:34.081 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Authentication/GetClaims/adminIdentity - -
2024-12-09 11:58:34.088 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9.12.2024 08:45:46', Current time (UTC): '9.12.2024 08:58:34'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-12-09 11:58:34.088 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9.12.2024 08:45:46', Current time (UTC): '9.12.2024 08:58:34'.
2024-12-09 11:58:34.088 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService)'
2024-12-09 11:58:34.091 +03:00 [INF] Route matched with {action = "GetClaims", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClaims(System.String) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 11:58:34.125 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__userName_0
2024-12-09 11:58:34.152 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 11:58:34.179 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 11:58:34.329 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 11:58:34.356 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:58:34.383 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Security.Claims.Claim, System.Security.Claims, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2024-12-09 11:58:34.386 +03:00 [INF] Executed action API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService) in 295.1286ms
2024-12-09 11:58:34.386 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService)'
2024-12-09 11:58:34.386 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Authentication/GetClaims/adminIdentity - - - 200 - application/json;+charset=utf-8 305.1740ms
2024-12-09 11:59:12.463 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetCompanyCount - -
2024-12-09 11:59:12.497 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2024-12-09 11:59:12.768 +03:00 [INF] Executed DbCommand (271ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-12-09 11:59:12.795 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:59:12.821 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:59:12.848 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:59:12.875 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 11:59:12.902 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:59:13.173 +03:00 [INF] Executed DbCommand (270ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:59:13.200 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:59:13.227 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 11:59:13.264 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] IS NULL
2024-12-09 11:59:13.293 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE 0 = 1
2024-12-09 11:59:50.962 +03:00 [INF] User profile is available. Using 'C:\Users\kadir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 12:00:39.785 +03:00 [ERR] An error occurred using the connection to database 'UwingoIdentityMain' on server '78.111.111.81'.
2024-12-09 12:00:39.808 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Repositories.RepositoryContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): The network path was not found.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2024-12-09 12:00:57.297 +03:00 [INF] User profile is available. Using 'C:\Users\kadir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 12:00:58.646 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2024-12-09 12:00:58.745 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-12-09 12:00:58.925 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:00:58.961 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:00:58.989 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:00:59.017 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:00:59.068 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:00:59.096 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:00:59.128 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:00:59.157 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:00:59.256 +03:00 [INF] User profile is available. Using 'C:\Users\kadir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 12:00:59.352 +03:00 [INF] Now listening on: http://0.0.0.0:5137
2024-12-09 12:00:59.353 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-09 12:00:59.354 +03:00 [INF] Hosting environment: Development
2024-12-09 12:00:59.354 +03:00 [INF] Content root path: C:\Users\kadir\source\repos\UwingoIdentityService\UwingoIdentityService
2024-12-09 12:01:00.666 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api - -
2024-12-09 12:01:00.774 +03:00 [WRN] Failed to determine the https port for redirect.
2024-12-09 12:01:00.841 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api - - - 404 0 - 177.7742ms
2024-12-09 12:01:18.078 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetCompanyCount - -
2024-12-09 12:01:18.166 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2024-12-09 12:01:18.196 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-12-09 12:01:18.223 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:01:18.250 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:01:18.542 +03:00 [INF] Executed DbCommand (291ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:01:18.571 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:01:18.598 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:01:18.625 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:01:18.652 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:01:18.679 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:01:18.849 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] IS NULL
2024-12-09 12:01:18.897 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE 0 = 1
2024-12-09 12:01:27.542 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Repositories.EFCore.RepositoryUserDbMatch.GetUsersCAIdByUserName(String userName, Boolean trackChanges) in C:\Users\kadir\source\repos\UwingoIdentityService\Repositories\EFCore\RepositoryUserDbMatch.cs:line 22
   at Services.EFCore.AuthenticationService.GetUserByUserName(String userName) in C:\Users\kadir\source\repos\UwingoIdentityService\Services\EFCore\AuthenticationService.cs:line 507
   at Services.EFCore.CustomAuthorizationHandler.HandleRequirementAsync(AuthorizationHandlerContext context, CustomRequirement requirement) in C:\Users\kadir\source\repos\UwingoIdentityService\Services\EFCore\CustomAuthorizationHandler.cs:line 30
   at Microsoft.AspNetCore.Authorization.AuthorizationHandler`1.HandleAsync(AuthorizationHandlerContext context)
   at Microsoft.AspNetCore.Authorization.DefaultAuthorizationService.AuthorizeAsync(ClaimsPrincipal user, Object resource, IEnumerable`1 requirements)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthorizeAsync(AuthorizationPolicy policy, AuthenticateResult authenticationResult, HttpContext context, Object resource)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-12-09 12:01:27.566 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetCompanyCount - - - 500 - text/plain;+charset=utf-8 9487.8682ms
2024-12-09 12:02:51.118 +03:00 [INF] User profile is available. Using 'C:\Users\kadir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 12:02:52.560 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2024-12-09 12:02:52.662 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-12-09 12:02:52.879 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:02:52.910 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:02:52.936 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:02:52.964 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:02:53.001 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:02:53.030 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:02:53.056 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:02:53.082 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:02:53.182 +03:00 [INF] User profile is available. Using 'C:\Users\kadir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 12:02:53.279 +03:00 [INF] Now listening on: http://0.0.0.0:5137
2024-12-09 12:02:53.280 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-09 12:02:53.280 +03:00 [INF] Hosting environment: Development
2024-12-09 12:02:53.280 +03:00 [INF] Content root path: C:\Users\kadir\source\repos\UwingoIdentityService\UwingoIdentityService
2024-12-09 12:02:54.536 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api - -
2024-12-09 12:02:54.618 +03:00 [WRN] Failed to determine the https port for redirect.
2024-12-09 12:02:54.687 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api - - - 404 0 - 152.2042ms
2024-12-09 12:05:43.370 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetApplicationCount - -
2024-12-09 12:05:43.508 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2024-12-09 12:05:43.535 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-12-09 12:05:43.563 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:05:43.590 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:05:43.616 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:05:43.643 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:05:43.669 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:05:43.696 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:05:43.723 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:05:43.750 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:05:43.913 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] IS NULL
2024-12-09 12:05:43.957 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE 0 = 1
2024-12-09 12:05:48.872 +03:00 [INF] User profile is available. Using 'C:\Users\kadir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 12:05:50.279 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2024-12-09 12:05:50.373 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-12-09 12:05:50.549 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:05:50.581 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:05:50.608 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:05:50.635 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:05:50.673 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:05:50.701 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:05:50.728 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:05:50.754 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 12:05:50.854 +03:00 [INF] User profile is available. Using 'C:\Users\kadir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 12:05:50.943 +03:00 [INF] Now listening on: http://0.0.0.0:5137
2024-12-09 12:05:50.944 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-09 12:05:50.944 +03:00 [INF] Hosting environment: Development
2024-12-09 12:05:50.944 +03:00 [INF] Content root path: C:\Users\kadir\source\repos\UwingoIdentityService\UwingoIdentityService
2024-12-09 12:05:52.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api - -
2024-12-09 12:05:52.258 +03:00 [WRN] Failed to determine the https port for redirect.
2024-12-09 12:05:52.328 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api - - - 404 0 - 152.3382ms
2024-12-09 12:06:04.373 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/ccbb535d-d93f-42c1-8a32-5fb1ae838086 - -
2024-12-09 12:06:04.378 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 12:06:04.395 +03:00 [INF] Route matched with {action = "GetApplicationsByCompanyId", controller = "CompanyApplication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetApplicationsByCompanyId(System.Guid) on controller Presentation.Controllers.CompanyApplicationController (UwingoIdentityService).
2024-12-09 12:06:04.598 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-12-09 12:06:04.601 +03:00 [ERR] Şirketin uygulamaları başarıyla getirildi.
2024-12-09 12:06:04.607 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-12-09 12:06:04.625 +03:00 [INF] Executed action Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService) in 227.3493ms
2024-12-09 12:06:04.626 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 12:06:04.629 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/ccbb535d-d93f-42c1-8a32-5fb1ae838086 - - - 404 - application/json;+charset=utf-8 256.5528ms
2024-12-09 12:06:04.631 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - -
2024-12-09 12:06:04.637 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 12:06:04.637 +03:00 [INF] Route matched with {action = "GetApplicationsByCompanyId", controller = "CompanyApplication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetApplicationsByCompanyId(System.Guid) on controller Presentation.Controllers.CompanyApplicationController (UwingoIdentityService).
2024-12-09 12:06:04.675 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-12-09 12:06:04.676 +03:00 [ERR] Şirketin uygulamaları başarıyla getirildi.
2024-12-09 12:06:04.710 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 12:06:04.738 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 12:06:04.765 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 12:06:04.791 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 12:06:04.792 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 12:06:04.810 +03:00 [INF] Executed action Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService) in 173.1748ms
2024-12-09 12:06:04.810 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 12:06:04.811 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - - - 200 - application/json;+charset=utf-8 179.5078ms
2024-12-09 12:06:17.721 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 -
2024-12-09 12:06:17.840 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 12:06:17.844 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entity.ModelsDto.UserLoginDto) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 12:06:17.916 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__applicationId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0 AND [c].[ApplicationId] = @__applicationId_1
2024-12-09 12:06:17.976 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 12:06:18.055 +03:00 [INF] Kullanıcı başarıyla doğrulandı ve veritabanı bağlantısı sağlandı.
2024-12-09 12:06:18.092 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 12:06:18.122 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 12:06:18.376 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 12:06:18.404 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:06:18.471 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 12:06:18.513 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-09 12:06:18.652 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p19='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CompanyApplicationId] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [LastName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2024-12-09 12:06:18.672 +03:00 [ERR] Token başarıyla oluşturuldu.
2024-12-09 12:06:18.673 +03:00 [INF] Kullanıcı başarıyla giriş yaptı.
2024-12-09 12:06:18.675 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entity.ModelsDto.TokenDto'.
2024-12-09 12:06:18.676 +03:00 [INF] Executed action API.Controllers.AuthenticationController.Login (UwingoIdentityService) in 831.8742ms
2024-12-09 12:06:18.677 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 12:06:18.678 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 957.0031ms
2024-12-09 12:06:18.681 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Authentication/GetClaims/adminIdentity - -
2024-12-09 12:06:18.687 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService)'
2024-12-09 12:06:18.689 +03:00 [INF] Route matched with {action = "GetClaims", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClaims(System.String) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 12:06:18.724 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__userName_0
2024-12-09 12:06:18.751 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 12:06:18.778 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 12:06:18.930 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 12:06:18.957 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:06:18.984 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Security.Claims.Claim, System.Security.Claims, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2024-12-09 12:06:18.988 +03:00 [INF] Executed action API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService) in 298.3458ms
2024-12-09 12:06:18.988 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService)'
2024-12-09 12:06:18.988 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Authentication/GetClaims/adminIdentity - - - 200 - application/json;+charset=utf-8 307.4479ms
2024-12-09 12:06:23.796 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetCompanyCount - -
2024-12-09 12:06:23.797 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetCompanyCount (UwingoIdentityService)'
2024-12-09 12:06:23.800 +03:00 [INF] Route matched with {action = "GetCompanyCount", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCompanyCount() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 12:06:27.804 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 12:06:27.805 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 12:06:28.241 +03:00 [INF] Şirket sayısı çekildi
2024-12-09 12:06:34.849 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2024-12-09 12:06:34.851 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetCompanyCount (UwingoIdentityService) in 11051.0738ms
2024-12-09 12:06:34.851 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetCompanyCount (UwingoIdentityService)'
2024-12-09 12:06:34.851 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetCompanyCount - - - 200 - application/json;+charset=utf-8 11054.8667ms
2024-12-09 12:08:11.464 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - -
2024-12-09 12:08:11.467 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 12:08:11.470 +03:00 [INF] Route matched with {action = "GetAllCompaniesForLogin", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCompaniesForLogin() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 12:08:11.498 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 12:08:11.498 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 12:08:11.498 +03:00 [INF] Tüm şirketler başarıyla getirildi.
2024-12-09 12:08:11.498 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.CompanyDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 12:08:11.500 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService) in 30.5874ms
2024-12-09 12:08:11.500 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 12:08:11.500 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - - - 200 - application/json;+charset=utf-8 36.8624ms
2024-12-09 12:08:11.503 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - -
2024-12-09 12:08:11.504 +03:00 [INF] Executing endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 12:08:11.506 +03:00 [INF] Route matched with {action = "GetAllApplicationsForLogin", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllApplicationsForLogin() on controller UwingoIdentityService.Controllers.ApplicationController (UwingoIdentityService).
2024-12-09 12:08:11.541 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Applications] AS [a]
2024-12-09 12:08:11.542 +03:00 [ERR] Tüm uygulamalar başarıyla getirildi.
2024-12-09 12:08:11.542 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 12:08:11.542 +03:00 [INF] Executed action UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService) in 35.6281ms
2024-12-09 12:08:11.542 +03:00 [INF] Executed endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 12:08:11.542 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - - - 200 - application/json;+charset=utf-8 38.8214ms
2024-12-09 12:08:18.330 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - -
2024-12-09 12:08:18.331 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 12:08:18.331 +03:00 [INF] Route matched with {action = "GetApplicationsByCompanyId", controller = "CompanyApplication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetApplicationsByCompanyId(System.Guid) on controller Presentation.Controllers.CompanyApplicationController (UwingoIdentityService).
2024-12-09 12:08:18.358 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-12-09 12:08:18.358 +03:00 [ERR] Şirketin uygulamaları başarıyla getirildi.
2024-12-09 12:08:18.384 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 12:08:18.410 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 12:08:18.436 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 12:08:18.462 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 12:08:18.462 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 12:08:18.462 +03:00 [INF] Executed action Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService) in 131.5656ms
2024-12-09 12:08:18.462 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 12:08:18.463 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - - - 200 - application/json;+charset=utf-8 132.3582ms
2024-12-09 12:08:21.951 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 -
2024-12-09 12:08:21.951 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 12:08:21.951 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entity.ModelsDto.UserLoginDto) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 12:08:21.980 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__applicationId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0 AND [c].[ApplicationId] = @__applicationId_1
2024-12-09 12:08:22.011 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 12:08:22.079 +03:00 [INF] Kullanıcı başarıyla doğrulandı ve veritabanı bağlantısı sağlandı.
2024-12-09 12:08:22.106 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 12:08:22.131 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 12:08:22.250 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 12:08:22.277 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:08:22.331 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 12:08:22.357 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-09 12:08:22.387 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p19='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CompanyApplicationId] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [LastName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2024-12-09 12:08:22.387 +03:00 [ERR] Token başarıyla oluşturuldu.
2024-12-09 12:08:22.387 +03:00 [INF] Kullanıcı başarıyla giriş yaptı.
2024-12-09 12:08:22.388 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entity.ModelsDto.TokenDto'.
2024-12-09 12:08:22.388 +03:00 [INF] Executed action API.Controllers.AuthenticationController.Login (UwingoIdentityService) in 436.2339ms
2024-12-09 12:08:22.388 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 12:08:22.388 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 437.1932ms
2024-12-09 12:08:22.404 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Authentication/GetClaims/adminIdentity - -
2024-12-09 12:08:22.405 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService)'
2024-12-09 12:08:22.405 +03:00 [INF] Route matched with {action = "GetClaims", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClaims(System.String) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 12:08:22.432 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__userName_0
2024-12-09 12:08:22.457 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 12:08:22.484 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 12:08:22.594 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 12:08:22.621 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 12:08:22.648 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Security.Claims.Claim, System.Security.Claims, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2024-12-09 12:08:22.649 +03:00 [INF] Executed action API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService) in 244.0173ms
2024-12-09 12:08:22.649 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService)'
2024-12-09 12:08:22.649 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Authentication/GetClaims/adminIdentity - - - 200 - application/json;+charset=utf-8 245.2239ms
2024-12-09 12:08:33.622 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetCompanyCount - -
2024-12-09 12:08:33.622 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetCompanyCount (UwingoIdentityService)'
2024-12-09 12:08:33.622 +03:00 [INF] Route matched with {action = "GetCompanyCount", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCompanyCount() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 12:08:36.059 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 12:08:36.059 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 12:08:36.059 +03:00 [INF] Şirket sayısı çekildi
2024-12-09 12:08:36.059 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2024-12-09 12:08:36.060 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetCompanyCount (UwingoIdentityService) in 2437.3481ms
2024-12-09 12:08:36.060 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetCompanyCount (UwingoIdentityService)'
2024-12-09 12:08:36.060 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetCompanyCount - - - 200 - application/json;+charset=utf-8 2437.9964ms
2024-12-09 22:08:13.101 +03:00 [INF] User profile is available. Using 'C:\Users\kadir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 22:08:14.615 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2024-12-09 22:08:14.734 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-12-09 22:08:14.961 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 22:08:15.007 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 22:08:15.049 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 22:08:15.102 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 22:08:15.181 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 22:08:15.233 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 22:08:15.291 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 22:08:15.351 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-09 22:08:15.460 +03:00 [INF] User profile is available. Using 'C:\Users\kadir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-09 22:08:15.637 +03:00 [INF] Now listening on: http://0.0.0.0:5137
2024-12-09 22:08:15.638 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-09 22:08:15.638 +03:00 [INF] Hosting environment: Development
2024-12-09 22:08:15.638 +03:00 [INF] Content root path: C:\Users\kadir\source\repos\UwingoIdentityService\UwingoIdentityService
2024-12-09 22:08:17.367 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api - -
2024-12-09 22:08:17.469 +03:00 [WRN] Failed to determine the https port for redirect.
2024-12-09 22:08:17.536 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api - - - 404 0 - 171.2601ms
2024-12-09 22:08:36.990 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - -
2024-12-09 22:08:36.996 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 22:08:37.019 +03:00 [INF] Route matched with {action = "GetAllCompaniesForLogin", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCompaniesForLogin() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 22:08:37.251 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 22:08:37.254 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 22:08:37.254 +03:00 [INF] Tüm şirketler başarıyla getirildi.
2024-12-09 22:08:37.262 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.CompanyDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 22:08:37.303 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService) in 280.7058ms
2024-12-09 22:08:37.304 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 22:08:37.307 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - - - 200 - application/json;+charset=utf-8 317.1986ms
2024-12-09 22:08:37.310 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - -
2024-12-09 22:08:37.313 +03:00 [INF] Executing endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 22:08:37.316 +03:00 [INF] Route matched with {action = "GetAllApplicationsForLogin", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllApplicationsForLogin() on controller UwingoIdentityService.Controllers.ApplicationController (UwingoIdentityService).
2024-12-09 22:08:37.412 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Applications] AS [a]
2024-12-09 22:08:37.414 +03:00 [ERR] Tüm uygulamalar başarıyla getirildi.
2024-12-09 22:08:37.414 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 22:08:37.416 +03:00 [INF] Executed action UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService) in 99.5212ms
2024-12-09 22:08:37.416 +03:00 [INF] Executed endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 22:08:37.416 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - - - 200 - application/json;+charset=utf-8 106.4279ms
2024-12-09 22:10:46.993 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - -
2024-12-09 22:10:46.997 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 22:10:46.998 +03:00 [INF] Route matched with {action = "GetAllCompaniesForLogin", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCompaniesForLogin() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 22:10:47.063 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 22:10:47.064 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 22:10:47.064 +03:00 [INF] Tüm şirketler başarıyla getirildi.
2024-12-09 22:10:47.064 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.CompanyDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 22:10:47.064 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService) in 66.5477ms
2024-12-09 22:10:47.064 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 22:10:47.065 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - - - 200 - application/json;+charset=utf-8 74.3098ms
2024-12-09 22:10:47.068 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - -
2024-12-09 22:10:47.072 +03:00 [INF] Executing endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 22:10:47.072 +03:00 [INF] Route matched with {action = "GetAllApplicationsForLogin", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllApplicationsForLogin() on controller UwingoIdentityService.Controllers.ApplicationController (UwingoIdentityService).
2024-12-09 22:10:47.135 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Applications] AS [a]
2024-12-09 22:10:47.136 +03:00 [ERR] Tüm uygulamalar başarıyla getirildi.
2024-12-09 22:10:47.136 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 22:10:47.136 +03:00 [INF] Executed action UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService) in 64.164ms
2024-12-09 22:10:47.136 +03:00 [INF] Executed endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 22:10:47.136 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - - - 200 - application/json;+charset=utf-8 68.0775ms
2024-12-09 22:10:50.204 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - -
2024-12-09 22:10:50.205 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 22:10:50.213 +03:00 [INF] Route matched with {action = "GetApplicationsByCompanyId", controller = "CompanyApplication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetApplicationsByCompanyId(System.Guid) on controller Presentation.Controllers.CompanyApplicationController (UwingoIdentityService).
2024-12-09 22:10:50.338 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-12-09 22:10:50.339 +03:00 [ERR] Şirketin uygulamaları başarıyla getirildi.
2024-12-09 22:10:50.399 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 22:10:50.452 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 22:10:50.507 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 22:10:50.581 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 22:10:50.582 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 22:10:50.583 +03:00 [INF] Executed action Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService) in 369.4976ms
2024-12-09 22:10:50.583 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 22:10:50.583 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - - - 200 - application/json;+charset=utf-8 378.7633ms
2024-12-09 22:10:52.718 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 -
2024-12-09 22:10:52.719 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 22:10:52.724 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entity.ModelsDto.UserLoginDto) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 22:10:52.838 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__applicationId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0 AND [c].[ApplicationId] = @__applicationId_1
2024-12-09 22:10:52.963 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 22:10:53.035 +03:00 [INF] Kullanıcı başarıyla doğrulandı ve veritabanı bağlantısı sağlandı.
2024-12-09 22:10:53.094 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 22:10:53.151 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 22:10:53.521 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 22:10:53.576 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 22:10:53.710 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 22:10:53.780 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-09 22:10:53.942 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@p19='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CompanyApplicationId] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [LastName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2024-12-09 22:10:54.062 +03:00 [ERR] Token başarıyla oluşturuldu.
2024-12-09 22:10:54.062 +03:00 [INF] Kullanıcı başarıyla giriş yaptı.
2024-12-09 22:10:54.064 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entity.ModelsDto.TokenDto'.
2024-12-09 22:10:54.065 +03:00 [INF] Executed action API.Controllers.AuthenticationController.Login (UwingoIdentityService) in 1340.4561ms
2024-12-09 22:10:54.065 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 22:10:54.066 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 1348.5516ms
2024-12-09 22:10:54.115 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Authentication/GetClaims/adminIdentity - -
2024-12-09 22:10:54.124 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService)'
2024-12-09 22:10:54.126 +03:00 [INF] Route matched with {action = "GetClaims", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClaims(System.String) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 22:10:54.194 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__userName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__userName_0
2024-12-09 22:10:54.248 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 22:10:54.297 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 22:10:54.620 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 22:10:54.679 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 22:10:54.736 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Security.Claims.Claim, System.Security.Claims, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2024-12-09 22:10:54.740 +03:00 [INF] Executed action API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService) in 613.2011ms
2024-12-09 22:10:54.740 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService)'
2024-12-09 22:10:54.740 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Authentication/GetClaims/adminIdentity - - - 200 - application/json;+charset=utf-8 625.7084ms
2024-12-09 22:11:50.246 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - -
2024-12-09 22:11:50.246 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 22:11:50.246 +03:00 [INF] Route matched with {action = "GetAllCompaniesForLogin", controller = "Company"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCompaniesForLogin() on controller Presentation.Controllers.CompanyController (UwingoIdentityService).
2024-12-09 22:11:50.313 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name], [c].[TenantId]
FROM [Companies] AS [c]
2024-12-09 22:11:50.314 +03:00 [ERR] Tüm şirketler başarıyla getirildi.
2024-12-09 22:11:50.314 +03:00 [INF] Tüm şirketler başarıyla getirildi.
2024-12-09 22:11:50.314 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.CompanyDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 22:11:50.314 +03:00 [INF] Executed action Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService) in 67.7197ms
2024-12-09 22:11:50.314 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyController.GetAllCompaniesForLogin (UwingoIdentityService)'
2024-12-09 22:11:50.314 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Company/GetAllCompaniesForLogin - - - 200 - application/json;+charset=utf-8 68.6112ms
2024-12-09 22:11:50.318 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - -
2024-12-09 22:11:50.318 +03:00 [INF] Executing endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 22:11:50.318 +03:00 [INF] Route matched with {action = "GetAllApplicationsForLogin", controller = "Application"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllApplicationsForLogin() on controller UwingoIdentityService.Controllers.ApplicationController (UwingoIdentityService).
2024-12-09 22:11:50.391 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Applications] AS [a]
2024-12-09 22:11:50.392 +03:00 [ERR] Tüm uygulamalar başarıyla getirildi.
2024-12-09 22:11:50.392 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 22:11:50.392 +03:00 [INF] Executed action UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService) in 73.748ms
2024-12-09 22:11:50.392 +03:00 [INF] Executed endpoint 'UwingoIdentityService.Controllers.ApplicationController.GetAllApplicationsForLogin (UwingoIdentityService)'
2024-12-09 22:11:50.393 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Application/GetAllApplicationsForLogin - - - 200 - application/json;+charset=utf-8 74.6294ms
2024-12-09 22:11:52.503 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - -
2024-12-09 22:11:52.507 +03:00 [INF] Executing endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 22:11:52.507 +03:00 [INF] Route matched with {action = "GetApplicationsByCompanyId", controller = "CompanyApplication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetApplicationsByCompanyId(System.Guid) on controller Presentation.Controllers.CompanyApplicationController (UwingoIdentityService).
2024-12-09 22:11:52.573 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-12-09 22:11:52.573 +03:00 [ERR] Şirketin uygulamaları başarıyla getirildi.
2024-12-09 22:11:52.615 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 22:11:52.663 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 22:11:52.718 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 22:11:52.762 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [Applications] AS [a]
WHERE [a].[Id] = @__id_0
2024-12-09 22:11:52.763 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Entity.ModelsDto.ApplicationDto, Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-09 22:11:52.763 +03:00 [INF] Executed action Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService) in 255.9466ms
2024-12-09 22:11:52.764 +03:00 [INF] Executed endpoint 'Presentation.Controllers.CompanyApplicationController.GetApplicationsByCompanyId (UwingoIdentityService)'
2024-12-09 22:11:52.764 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/CompanyApplication/GetApplicationsByCompanyId/200c7e1e-1bb0-4d3e-9ba0-897c58a979db - - - 200 - application/json;+charset=utf-8 261.2576ms
2024-12-09 22:11:55.032 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 -
2024-12-09 22:11:55.032 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 22:11:55.033 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entity.ModelsDto.UserLoginDto) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 22:11:55.095 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__applicationId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[CompanyId] = @__companyId_0 AND [c].[ApplicationId] = @__applicationId_1
2024-12-09 22:11:55.154 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 22:11:55.201 +03:00 [INF] Kullanıcı başarıyla doğrulandı ve veritabanı bağlantısı sağlandı.
2024-12-09 22:11:55.256 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 22:11:55.306 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 22:11:55.565 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 22:11:55.617 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 22:11:55.732 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-09 22:11:55.786 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-09 22:11:55.845 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[@p19='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [CompanyApplicationId] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [LastName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2024-12-09 22:11:55.846 +03:00 [ERR] Token başarıyla oluşturuldu.
2024-12-09 22:11:55.847 +03:00 [INF] Kullanıcı başarıyla giriş yaptı.
2024-12-09 22:11:55.847 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entity.ModelsDto.TokenDto'.
2024-12-09 22:11:55.847 +03:00 [INF] Executed action API.Controllers.AuthenticationController.Login (UwingoIdentityService) in 814.2742ms
2024-12-09 22:11:55.847 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.Login (UwingoIdentityService)'
2024-12-09 22:11:55.847 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5137/api/Authentication/login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 815.3239ms
2024-12-09 22:11:55.884 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5137/api/Authentication/GetClaims/adminIdentity - -
2024-12-09 22:11:55.884 +03:00 [INF] Executing endpoint 'API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService)'
2024-12-09 22:11:55.884 +03:00 [INF] Route matched with {action = "GetClaims", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClaims(System.String) on controller API.Controllers.AuthenticationController (UwingoIdentityService).
2024-12-09 22:11:55.938 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__userName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[CompanyApplicationId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__userName_0
2024-12-09 22:11:56.002 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CompanyApplicationId], [u].[Email], [u].[UserId], [u].[UserName]
FROM [UserDatabaseMatches] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-12-09 22:11:56.044 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ApplicationId], [c].[CompanyId], [c].[DbConnection]
FROM [CompanyApplications] AS [c]
WHERE [c].[Id] = @__id_0
2024-12-09 22:11:56.290 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__roleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Id] = @__roleId_0
2024-12-09 22:11:56.351 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-09 22:11:56.409 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Security.Claims.Claim, System.Security.Claims, Version=7.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2024-12-09 22:11:56.410 +03:00 [INF] Executed action API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService) in 525.4072ms
2024-12-09 22:11:56.410 +03:00 [INF] Executed endpoint 'API.Controllers.AuthenticationController.GetClaims (UwingoIdentityService)'
2024-12-09 22:11:56.410 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5137/api/Authentication/GetClaims/adminIdentity - - - 200 - application/json;+charset=utf-8 526.4517ms
